window.makeChart = (identifier, coloursScheme) => {
    return {
        period: "Day",
        identifier: identifier,
        coloursScheme: coloursScheme,
        chart: null,
        data: {
            marketPrice: "0.03109000",
            marketDailyAverage: "0.03100000",
            marketHistoricalDay: {
                labels: [
                    "16:01",
                    "08:02",
                    "00:03",
                    "16:05",
                    "08:06",
                    "00:07",
                    "16:09",
                    "08:10",
                    "00:12",
                    "16:01",
                    "08:02",
                    "00:04",
                    "16:05",
                    "08:06",
                    "00:08",
                    "16:09",
                    "08:10",
                    "00:12",
                    "16:01",
                    "08:03",
                    "00:04",
                    "16:05",
                    "08:07",
                    "00:08",
                    "16:09",
                ],
                datasets: [
                    951.26,
                    3929.78,
                    1418.38,
                    1950.74,
                    1516.62,
                    1746.16,
                    1290.46,
                    1106.67,
                    1345.96,
                    778.16,
                    1002.96,
                    663.38,
                    521.74,
                    578.43,
                    980.97,
                    586.78,
                    1270.29,
                    2812.8,
                    1494.33,
                    1027.78,
                    1500.92,
                    1253.79,
                    1015.13,
                    710.25,
                    415.28,
                ],
                min: 415.28,
                max: 3929.78,
            },
            marketHistoricalWeek: {
                labels: [
                    "10.06",
                    "06.03",
                    "30.11",
                    "27.08",
                    "23.05",
                    "16.02",
                    "13.11",
                    "09.08",
                ],
                datasets: [
                    15930.1,
                    19530.73,
                    19010.31,
                    10454.97,
                    11747.2,
                    16566.69,
                    27012.17,
                    13068.31,
                ],
                min: 10454.97,
                max: 27012.17,
            },
            marketHistoricalMonth: {
                labels: [
                    "19.06",
                    "16.03",
                    "10.12",
                    "06.09",
                    "03.06",
                    "27.02",
                    "23.11",
                    "20.08",
                    "16.05",
                    "09.02",
                    "06.11",
                    "02.08",
                    "28.04",
                    "23.01",
                    "19.10",
                    "15.07",
                    "10.04",
                    "05.01",
                    "01.10",
                    "27.06",
                    "24.03",
                    "18.12",
                    "13.09",
                    "10.06",
                    "06.03",
                    "30.11",
                    "27.08",
                    "23.05",
                    "16.02",
                    "13.11",
                    "09.08",
                ],
                datasets: [
                    27470.7,
                    24189.32,
                    22673.71,
                    24148.87,
                    23870.38,
                    17000.58,
                    18169.64,
                    20870.95,
                    16296.83,
                    17252.86,
                    22715.48,
                    24796.21,
                    13279.64,
                    11056.91,
                    12918.92,
                    17822.68,
                    18734.22,
                    18591.83,
                    18643.54,
                    15553.13,
                    13321.38,
                    23232.47,
                    16322.11,
                    15930.1,
                    19530.73,
                    19010.31,
                    10454.97,
                    11747.2,
                    16566.69,
                    27012.17,
                    13068.31,
                ],
                min: 10454.97,
                max: 27470.7,
            },
            marketHistoricalQuarter: {
                labels: [
                    "20.01",
                    "16.10",
                    "13.07",
                    "08.04",
                    "02.01",
                    "29.09",
                    "25.06",
                    "21.03",
                    "16.12",
                    "11.09",
                    "07.06",
                    "03.03",
                    "28.11",
                    "24.08",
                    "20.05",
                    "14.02",
                    "10.11",
                    "06.08",
                    "03.05",
                    "27.01",
                    "24.10",
                    "21.07",
                    "16.04",
                    "10.01",
                    "07.10",
                    "03.07",
                    "29.03",
                    "24.12",
                    "19.09",
                    "15.06",
                    "11.03",
                    "06.12",
                    "01.09",
                    "28.05",
                    "22.02",
                    "18.11",
                    "14.08",
                    "11.05",
                    "04.02",
                    "31.10",
                    "28.07",
                    "23.04",
                    "17.01",
                    "14.10",
                    "10.07",
                    "05.04",
                    "31.12",
                    "26.09",
                    "22.06",
                    "18.03",
                    "13.12",
                    "08.09",
                    "04.06",
                    "01.03",
                    "25.11",
                    "21.08",
                    "18.05",
                    "12.02",
                    "08.11",
                    "05.08",
                    "01.05",
                    "25.01",
                    "22.10",
                    "18.07",
                    "13.04",
                    "08.01",
                    "04.10",
                    "30.06",
                    "26.03",
                    "21.12",
                    "16.09",
                    "12.06",
                    "09.03",
                    "03.12",
                    "29.08",
                    "26.05",
                    "19.02",
                    "15.11",
                    "12.08",
                    "08.05",
                    "01.02",
                    "29.10",
                    "25.07",
                    "20.04",
                    "15.01",
                    "11.10",
                    "07.07",
                    "02.04",
                    "28.12",
                    "23.09",
                    "19.06",
                    "16.03",
                    "10.12",
                    "06.09",
                    "03.06",
                    "27.02",
                    "23.11",
                    "20.08",
                    "16.05",
                    "09.02",
                    "06.11",
                    "02.08",
                    "28.04",
                    "23.01",
                    "19.10",
                    "15.07",
                    "10.04",
                    "05.01",
                    "01.10",
                    "27.06",
                    "24.03",
                    "18.12",
                    "13.09",
                    "10.06",
                    "06.03",
                    "30.11",
                    "27.08",
                    "23.05",
                    "16.02",
                    "13.11",
                    "09.08",
                ],
                datasets: [
                    15976.35,
                    24857.82,
                    17844.21,
                    19222.01,
                    21589.18,
                    17548.75,
                    24308.71,
                    18802.93,
                    20444.31,
                    36285.71,
                    28996.33,
                    27807.24,
                    25483.23,
                    53798.31,
                    34935.03,
                    47078.11,
                    21886.13,
                    13893.17,
                    11273.97,
                    14625.01,
                    18249.57,
                    14441.89,
                    13252.43,
                    16164.7,
                    13086.46,
                    11496.82,
                    12688.05,
                    15891.03,
                    19535.73,
                    24020,
                    38608.25,
                    32288.15,
                    33052.5,
                    43822,
                    70957.61,
                    48523.57,
                    31091.12,
                    35368.39,
                    41131.35,
                    58546.66,
                    73169.15,
                    53853.43,
                    46191.78,
                    39819.64,
                    31205.93,
                    29478.31,
                    17188.43,
                    20747.82,
                    31723.79,
                    29176,
                    28677.17,
                    51192.53,
                    48952.75,
                    35141.59,
                    28758.62,
                    32163.14,
                    26820.28,
                    26946.06,
                    28305.16,
                    33052.19,
                    24906.75,
                    17654.8,
                    20624.87,
                    24849.85,
                    20180.54,
                    28437.01,
                    24394,
                    21695.93,
                    35300.03,
                    43002.31,
                    69126.97,
                    62391.54,
                    53114.28,
                    24192.87,
                    68631.05,
                    47224.19,
                    34742.11,
                    28307.92,
                    27970.77,
                    34430.67,
                    31095.8,
                    25184.59,
                    37044.97,
                    39237.19,
                    30067.34,
                    26090.13,
                    49294.7,
                    35752.92,
                    22477.3,
                    24664.4,
                    27470.7,
                    24189.32,
                    22673.71,
                    24148.87,
                    23870.38,
                    17000.58,
                    18169.64,
                    20870.95,
                    16296.83,
                    17252.86,
                    22715.48,
                    24796.21,
                    13279.64,
                    11056.91,
                    12918.92,
                    17822.68,
                    18734.22,
                    18591.83,
                    18643.54,
                    15553.13,
                    13321.38,
                    23232.47,
                    16322.11,
                    15930.1,
                    19530.73,
                    19010.31,
                    10454.97,
                    11747.2,
                    16566.69,
                    27012.17,
                    13068.31,
                ],
                min: 10454.97,
                max: 73169.15,
            },
            marketHistoricalYear: {
                labels: [
                    "08.04",
                    "02.01",
                    "28.09",
                    "25.06",
                    "21.03",
                    "15.12",
                    "11.09",
                    "07.06",
                    "03.03",
                    "28.11",
                    "25.08",
                    "21.05",
                    "15.02",
                    "11.11",
                    "07.08",
                    "03.05",
                    "28.01",
                    "24.10",
                    "20.07",
                    "16.04",
                    "10.01",
                    "06.10",
                    "03.07",
                    "29.03",
                    "23.12",
                    "19.09",
                    "15.06",
                    "11.03",
                    "06.12",
                    "01.09",
                    "28.05",
                    "22.02",
                    "18.11",
                    "14.08",
                    "10.05",
                    "04.02",
                    "31.10",
                    "27.07",
                    "23.04",
                    "17.01",
                    "13.10",
                    "10.07",
                    "05.04",
                    "30.12",
                    "26.09",
                    "22.06",
                    "19.03",
                    "14.12",
                    "09.09",
                    "05.06",
                    "01.03",
                    "26.11",
                    "22.08",
                    "18.05",
                    "12.02",
                    "08.11",
                    "04.08",
                    "01.05",
                    "25.01",
                    "21.10",
                    "18.07",
                    "13.04",
                    "07.01",
                    "04.10",
                    "30.06",
                    "26.03",
                    "21.12",
                    "16.09",
                    "12.06",
                    "08.03",
                    "03.12",
                    "29.08",
                    "25.05",
                    "19.02",
                    "15.11",
                    "11.08",
                    "08.05",
                    "01.02",
                    "28.10",
                    "25.07",
                    "20.04",
                    "14.01",
                    "11.10",
                    "07.07",
                    "02.04",
                    "28.12",
                    "23.09",
                    "19.06",
                    "15.03",
                    "10.12",
                    "05.09",
                    "01.06",
                    "26.02",
                    "22.11",
                    "18.08",
                    "15.05",
                    "08.02",
                    "04.11",
                    "01.08",
                    "27.04",
                    "21.01",
                    "18.10",
                    "14.07",
                    "09.04",
                    "04.01",
                    "30.09",
                    "26.06",
                    "22.03",
                    "17.12",
                    "12.09",
                    "08.06",
                    "05.03",
                    "29.11",
                    "25.08",
                    "22.05",
                    "15.02",
                    "11.11",
                    "08.08",
                    "04.05",
                    "29.01",
                    "26.10",
                    "22.07",
                    "17.04",
                    "12.01",
                    "08.10",
                    "04.07",
                    "30.03",
                    "25.12",
                    "20.09",
                    "16.06",
                    "13.03",
                    "07.12",
                    "02.09",
                    "30.05",
                    "23.02",
                    "19.11",
                    "16.08",
                    "12.05",
                    "05.02",
                    "02.11",
                    "29.07",
                    "24.04",
                    "19.01",
                    "15.10",
                    "11.07",
                    "06.04",
                    "01.01",
                    "27.09",
                    "23.06",
                    "20.03",
                    "14.12",
                    "09.09",
                    "06.06",
                    "02.03",
                    "26.11",
                    "23.08",
                    "20.05",
                    "13.02",
                    "10.11",
                    "06.08",
                    "02.05",
                    "27.01",
                    "23.10",
                    "19.07",
                    "14.04",
                    "09.01",
                    "05.10",
                    "01.07",
                    "28.03",
                    "22.12",
                    "17.09",
                    "14.06",
                    "10.03",
                    "04.12",
                    "31.08",
                    "27.05",
                    "20.02",
                    "17.11",
                    "13.08",
                    "09.05",
                    "03.02",
                    "30.10",
                    "26.07",
                    "21.04",
                    "16.01",
                    "12.10",
                    "08.07",
                    "04.04",
                    "29.12",
                    "24.09",
                    "21.06",
                    "17.03",
                    "12.12",
                    "08.09",
                    "04.06",
                    "28.02",
                    "25.11",
                    "21.08",
                    "17.05",
                    "11.02",
                    "07.11",
                    "03.08",
                    "29.04",
                    "24.01",
                    "20.10",
                    "16.07",
                    "12.04",
                    "06.01",
                    "02.10",
                    "29.06",
                    "25.03",
                    "19.12",
                    "15.09",
                    "11.06",
                    "07.03",
                    "02.12",
                    "28.08",
                    "24.05",
                    "18.02",
                    "14.11",
                    "10.08",
                    "06.05",
                    "31.01",
                    "27.10",
                    "23.07",
                    "19.04",
                    "13.01",
                    "09.10",
                    "06.07",
                    "01.04",
                    "26.12",
                    "22.09",
                    "18.06",
                    "14.03",
                    "09.12",
                    "04.09",
                    "31.05",
                    "25.02",
                    "21.11",
                    "17.08",
                    "13.05",
                    "07.02",
                    "03.11",
                    "30.07",
                    "26.04",
                    "20.01",
                    "16.10",
                    "13.07",
                    "08.04",
                    "02.01",
                    "29.09",
                    "25.06",
                    "21.03",
                    "16.12",
                    "11.09",
                    "07.06",
                    "03.03",
                    "28.11",
                    "24.08",
                    "20.05",
                    "14.02",
                    "10.11",
                    "06.08",
                    "03.05",
                    "27.01",
                    "24.10",
                    "21.07",
                    "16.04",
                    "10.01",
                    "07.10",
                    "03.07",
                    "29.03",
                    "24.12",
                    "19.09",
                    "15.06",
                    "11.03",
                    "06.12",
                    "01.09",
                    "28.05",
                    "22.02",
                    "18.11",
                    "14.08",
                    "11.05",
                    "04.02",
                    "31.10",
                    "28.07",
                    "23.04",
                    "17.01",
                    "14.10",
                    "10.07",
                    "05.04",
                    "31.12",
                    "26.09",
                    "22.06",
                    "18.03",
                    "13.12",
                    "08.09",
                    "04.06",
                    "01.03",
                    "25.11",
                    "21.08",
                    "18.05",
                    "12.02",
                    "08.11",
                    "05.08",
                    "01.05",
                    "25.01",
                    "22.10",
                    "18.07",
                    "13.04",
                    "08.01",
                    "04.10",
                    "30.06",
                    "26.03",
                    "21.12",
                    "16.09",
                    "12.06",
                    "09.03",
                    "03.12",
                    "29.08",
                    "26.05",
                    "19.02",
                    "15.11",
                    "12.08",
                    "08.05",
                    "01.02",
                    "29.10",
                    "25.07",
                    "20.04",
                    "15.01",
                    "11.10",
                    "07.07",
                    "02.04",
                    "28.12",
                    "23.09",
                    "19.06",
                    "16.03",
                    "10.12",
                    "06.09",
                    "03.06",
                    "27.02",
                    "23.11",
                    "20.08",
                    "16.05",
                    "09.02",
                    "06.11",
                    "02.08",
                    "28.04",
                    "23.01",
                    "19.10",
                    "15.07",
                    "10.04",
                    "05.01",
                    "01.10",
                    "27.06",
                    "24.03",
                    "18.12",
                    "13.09",
                    "10.06",
                    "06.03",
                    "30.11",
                    "27.08",
                    "23.05",
                    "16.02",
                    "13.11",
                    "09.08",
                ],
                datasets: [
                    39826.88,
                    80195.6,
                    47709.07,
                    69851.31,
                    90021.82,
                    55125.68,
                    52798.64,
                    55833.74,
                    52319.32,
                    43632.83,
                    41414.41,
                    31778.41,
                    32510.3,
                    56548.27,
                    58472.15,
                    40777.79,
                    32898.92,
                    38598.4,
                    37534.71,
                    41468.18,
                    31952.39,
                    30787.43,
                    33484.38,
                    35820.39,
                    36309.95,
                    28405.34,
                    32833.62,
                    39396.63,
                    38937.53,
                    30789.9,
                    50634.15,
                    88237.45,
                    39912.52,
                    36281,
                    71696.72,
                    47680.39,
                    54445.98,
                    44130.93,
                    46922.04,
                    38025.6,
                    47144.72,
                    37815.83,
                    32371.97,
                    46293.12,
                    41912.9,
                    40315.79,
                    37729.83,
                    40431.53,
                    49152.96,
                    52550.59,
                    34099.98,
                    27340.45,
                    25158.78,
                    21770.82,
                    21515.07,
                    44560.2,
                    44837.34,
                    55804.6,
                    35313.97,
                    20893.5,
                    19116.61,
                    34275.97,
                    44374.96,
                    33599.37,
                    33550.61,
                    35348.74,
                    36815.89,
                    31860.07,
                    45701.47,
                    48851.58,
                    40098.33,
                    28402.56,
                    41119.37,
                    60913.14,
                    34467.88,
                    40850.9,
                    54769.42,
                    64169.44,
                    71178.33,
                    45121.09,
                    55424.45,
                    46205.96,
                    35273.04,
                    35797.12,
                    126093.85,
                    97948.05,
                    60038.01,
                    86138.46,
                    96838.25,
                    76305.76,
                    41500.2,
                    42377.28,
                    34788.97,
                    45845.71,
                    44410.49,
                    26572.33,
                    33692.22,
                    47330.11,
                    61530.17,
                    43310.87,
                    58111.46,
                    52459.07,
                    42065.8,
                    77249.47,
                    58671.78,
                    55350.51,
                    82544.65,
                    94072.54,
                    72335.6,
                    72748.54,
                    49870.13,
                    59805.38,
                    90348.8,
                    152604.38,
                    136656.25,
                    113634.22,
                    126634.44,
                    125220.67,
                    134311.24,
                    142132.08,
                    85715.77,
                    100680.76,
                    92852.57,
                    47220.33,
                    71479.78,
                    48862.98,
                    86924.07,
                    131483.15,
                    120967.42,
                    108657.73,
                    137069.2,
                    104638.51,
                    106680.08,
                    118811.32,
                    89054.34,
                    88934.83,
                    100453.81,
                    105139.31,
                    114957.77,
                    113000.21,
                    113902.08,
                    110316.91,
                    179510.98,
                    258257.8,
                    73779.1,
                    85206.78,
                    134425.22,
                    97879.63,
                    76965.12,
                    86289.68,
                    90161.77,
                    57795.3,
                    53526.9,
                    35942.51,
                    35062.49,
                    26551.88,
                    23809.77,
                    24081.44,
                    25843.35,
                    18980.69,
                    24457.49,
                    18095.07,
                    30027.91,
                    37578.49,
                    29543.98,
                    22081.55,
                    15851.63,
                    57410.86,
                    62469.15,
                    38777.75,
                    29368.04,
                    48140.81,
                    29727.14,
                    27540.82,
                    34454.26,
                    26006.46,
                    29972.8,
                    69483.22,
                    37643.62,
                    55266.93,
                    49149.09,
                    59798.58,
                    38186.97,
                    39682.94,
                    50886.86,
                    31934.75,
                    39924.17,
                    32620.7,
                    33230.3,
                    26581.11,
                    56294.57,
                    54797.36,
                    38775.8,
                    20073.07,
                    30468.69,
                    35648.47,
                    22623.92,
                    38718.22,
                    60363.84,
                    40860.94,
                    39478.87,
                    58132.28,
                    47257.41,
                    28821.86,
                    26632.52,
                    40955.89,
                    32605.86,
                    25963.89,
                    21986.57,
                    30916.06,
                    21913.39,
                    19634.61,
                    25225.57,
                    21909.45,
                    17284.33,
                    21956.84,
                    22694.43,
                    21253.41,
                    18168.62,
                    22652.2,
                    24194.29,
                    40525,
                    30246.36,
                    36650.5,
                    37317.14,
                    16046.41,
                    15204.73,
                    11385.31,
                    9347.67,
                    12843.93,
                    10843.71,
                    10599.18,
                    10882.75,
                    16782.95,
                    11021.25,
                    7233.63,
                    9713.29,
                    18832.7,
                    13208.09,
                    18354.72,
                    29219.94,
                    13634.51,
                    10927,
                    9773.56,
                    23161.6,
                    15976.35,
                    24857.82,
                    17844.21,
                    19222.01,
                    21589.18,
                    17548.75,
                    24308.71,
                    18802.93,
                    20444.31,
                    36285.71,
                    28996.33,
                    27807.24,
                    25483.23,
                    53798.31,
                    34935.03,
                    47078.11,
                    21886.13,
                    13893.17,
                    11273.97,
                    14625.01,
                    18249.57,
                    14441.89,
                    13252.43,
                    16164.7,
                    13086.46,
                    11496.82,
                    12688.05,
                    15891.03,
                    19535.73,
                    24020,
                    38608.25,
                    32288.15,
                    33052.5,
                    43822,
                    70957.61,
                    48523.57,
                    31091.12,
                    35368.39,
                    41131.35,
                    58546.66,
                    73169.15,
                    53853.43,
                    46191.78,
                    39819.64,
                    31205.93,
                    29478.31,
                    17188.43,
                    20747.82,
                    31723.79,
                    29176,
                    28677.17,
                    51192.53,
                    48952.75,
                    35141.59,
                    28758.62,
                    32163.14,
                    26820.28,
                    26946.06,
                    28305.16,
                    33052.19,
                    24906.75,
                    17654.8,
                    20624.87,
                    24849.85,
                    20180.54,
                    28437.01,
                    24394,
                    21695.93,
                    35300.03,
                    43002.31,
                    69126.97,
                    62391.54,
                    53114.28,
                    24192.87,
                    68631.05,
                    47224.19,
                    34742.11,
                    28307.92,
                    27970.77,
                    34430.67,
                    31095.8,
                    25184.59,
                    37044.97,
                    39237.19,
                    30067.34,
                    26090.13,
                    49294.7,
                    35752.92,
                    22477.3,
                    24664.4,
                    27470.7,
                    24189.32,
                    22673.71,
                    24148.87,
                    23870.38,
                    17000.58,
                    18169.64,
                    20870.95,
                    16296.83,
                    17252.86,
                    22715.48,
                    24796.21,
                    13279.64,
                    11056.91,
                    12918.92,
                    17822.68,
                    18734.22,
                    18591.83,
                    18643.54,
                    15553.13,
                    13321.38,
                    23232.47,
                    16322.11,
                    15930.1,
                    19530.73,
                    19010.31,
                    10454.97,
                    11747.2,
                    16566.69,
                    27012.17,
                    13068.31,
                ],
                min: 7233.63,
                max: 258257.8,
            },
            marketVolume: "0",
        },

        currency: "BTC",

        dateAt: "",
        priceAt: null,
        priceMin: null,
        priceMax: null,
        priceAvg: null,

        dropdownOpen: false,
        localizedPeriod: null,

        calculatePriceAverage(datasets) {
            const avg =
                datasets.reduce((a, b) => a + b, 0) / datasets.length || 0;

            return avg.toFixed(2);
        },

        getMarketDayAverage() {
            this.priceMin = this.data.marketHistoricalDay.min;
            this.priceMax = this.data.marketHistoricalDay.max;
            this.priceAvg = this.calculatePriceAverage(
                this.data.marketHistoricalDay.datasets
            );

            return this.data.marketHistoricalDay;
        },

        getMarketWeekAverage() {
            this.priceMin = this.data.marketHistoricalWeek.min;
            this.priceMax = this.data.marketHistoricalWeek.max;
            this.priceAvg = this.calculatePriceAverage(
                this.data.marketHistoricalWeek.datasets
            );

            return this.data.marketHistoricalWeek;
        },

        getMarketMonthAverage() {
            this.priceMin = this.data.marketHistoricalMonth.min;
            this.priceMax = this.data.marketHistoricalMonth.max;
            this.priceAvg = this.calculatePriceAverage(
                this.data.marketHistoricalMonth.datasets
            );

            return this.data.marketHistoricalMonth;
        },

        renderChart() {
            this.generateChart();
        },

        generateChart() {
            const themeColours = {
                gridLines: "#DBDEE5",
                ticks: "#B0B0B8",
            };

            const fontConfig = {
                fontColor: themeColours.ticks,
                fontSize: 14,
                fontStyle: 600,
            };

            const scaleCorrection = 1000;

            let ctx = document.getElementById(this.identifier).getContext("2d");

            this.chart = new Chart(ctx, {
                type: "line",

                data: {
                    labels: this.getMarketDayAverage().labels,
                    datasets: [
                        {
                            borderColor: this.coloursScheme,
                            pointRadius: 4,
                            pointHoverRadius: 12,
                            pointHoverBorderWidth: 3,
                            pointHoverBackgroundColor:
                                "rgba(204, 230, 211, 0.5)",
                            pointHitRadius: 1,
                            pointBackgroundColor: "#FFFFFF",
                            borderWidth: 3,
                            type: "line",
                            fill: false,
                            data: this.getMarketDayAverage().datasets,
                            hidden: false,
                        },
                    ],
                },

                // Configuration options go here
                options: {
                    showScale: true,
                    responsive: true,
                    maintainAspectRatio: false,
                    elements: {
                        line: {
                            cubicInterpolationMode: "monotone",
                            tension: 0,
                        },
                    },
                    legend: {
                        display: false,
                    },
                    layout: {
                        padding: {
                            left: 0,
                            right: 0,
                            top: 10,
                            bottom: 10,
                        },
                    },
                    scales: {
                        yAxes: [
                            {
                                type: "linear",
                                position: "left",
                                stacked: true,

                                gridLines: {
                                    color: themeColours.gridLines,
                                    display: true,
                                    drawBorder: false,
                                },
                                ticks: {
                                    padding: 15,
                                    ...fontConfig,
                                    callback: (value, index, values) => {
                                        // TODO: Proper implementation
                                        if (index % 2 === 0) return;

                                        const formatConfig = {
                                            currency: this.currency,
                                        };

                                        const price = value / scaleCorrection;

                                        if (price < 1e-4) {
                                            formatConfig.maximumFractionDigits = 8;
                                        } else if (price < 1e-2) {
                                            formatConfig.maximumFractionDigits = 5;
                                        } else {
                                            formatConfig.maximumFractionDigits = 3;
                                        }

                                        return `$${value}`;
                                    },
                                },
                            },
                        ],
                        xAxes: [
                            {
                                gridLines: {
                                    color: themeColours.gridLines,
                                    drawBorder: false,
                                    display: true,
                                },
                                ticks: {
                                    padding: 10,
                                    ...fontConfig,
                                    callback: (value, index, values) => {
                                        if (
                                            this.period !== "Day" &&
                                            index === values.length - 1
                                        ) {
                                            return "Today";
                                        } else if (this.period === "Week") {
                                            const width = this.$el.clientWidth;

                                            if (width > 1200) {
                                                // TODO: DW returns a day of the week, where value would be "Friday" for example
                                                return value;
                                            } else {
                                                // TODO: DW returns the abbreviation of a day of the week, where value would be "FRI" for example
                                                return value;
                                            }
                                        } else if (this.period === "Month") {
                                            return value;
                                        }

                                        return value;
                                    },
                                },
                            },
                        ],
                    },
                    tooltips: {
                        displayColors: false,
                        mode: "interpolate",
                        intersect: false,
                        mode: "point",
                        axis: "x",
                        callbacks: {
                            label: (item) => {
                                // TODO: Rounded circle on the left of the label
                                return `${item.yLabel.toFixed(2)} ${
                                    this.currency
                                }`;
                            },
                            title: (items, data) => {},
                        },
                    },
                },
            });

            return this.chart;
        },

        updateLabels() {
            let labels = eval(`this.getMarket${this.period}Average()`).labels;

            return labels;
        },

        updateTicks() {
            let periodMarketData = eval(`this.getMarket${this.period}Average()`)
                .datasets;

            return periodMarketData;
        },

        setPeriod(period) {
            this.period = period.charAt(0).toUpperCase() + period.slice(1);

            updatedTicks = this.updateTicks();

            this.chart.data.labels = this.updateLabels();
            this.chart.data.datasets[0].data = updatedTicks;

            // Render the chart synchronously and without an animation.
            this.chart.update(0);
        },

        isActivePeriod(period) {
            return period === this.period;
        },
    };
};
